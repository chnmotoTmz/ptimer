<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éù„É¢„Éâ„Éº„É≠„Çø„Ç§„Éû„Éº</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- „Éü„Éã„Çø„Ç§„Éû„Éº -->
    <div id="mini-timer" class="mini-timer" style="display: none;">
        <div class="mini-header">
            <span class="mini-title">üçÖ „Éù„É¢„Éâ„Éº„É≠</span>
            <div class="mini-controls">
                <button id="mini-expand-btn" class="mini-btn" title="ÈÄöÂ∏∏„É¢„Éº„Éâ„Å´Êàª„Çã">
                    <i class="fas fa-expand"></i>
                </button>
                <button id="mini-close-btn" class="mini-btn" title="„Éü„Éã„É¢„Éº„Éâ„ÇíÈñâ„Åò„Çã">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        
        <div class="mini-content">
            <div class="mini-timer-display">
                <div id="mini-time" class="mini-time">25:00</div>
                <div id="mini-mode" class="mini-mode">Ë®àÁîªÁöÑ</div>
            </div>
            
            <div class="mini-progress">
                <div id="mini-progress-bar" class="mini-progress-bar"></div>
            </div>
            
            <div class="mini-buttons">
                <button id="mini-start-btn" class="mini-control-btn start">
                    <i class="fas fa-play"></i>
                </button>
                <button id="mini-reset-btn" class="mini-control-btn reset">
                    <i class="fas fa-refresh"></i>
                </button>
            </div>
        </div>
        
        <div class="mini-current-task" id="mini-current-task">
            „Çø„Çπ„ÇØ„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì
        </div>
    </div>

    <div class="container" id="main-container">
        <header>
            <h1><i class="fas fa-tomato"></i> „Éù„É¢„Éâ„Éº„É≠„Çø„Ç§„Éû„Éº</h1>
            <div class="header-controls">
                <button id="mini-mode-btn" class="header-btn" title="„Éü„Éã„É¢„Éº„Éâ">
                    <i class="fas fa-compress"></i>
                </button>
                <button id="always-on-top-btn" class="header-btn" title="Â∏∏„Å´ÊúÄÂâçÈù¢">
                    <i class="fas fa-thumbtack"></i>
                </button>
                <button id="fullscreen-btn" class="header-btn" title="„Éï„É´„Çπ„ÇØ„É™„Éº„É≥">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </header>

        <main>
            <!-- „Çø„Ç§„Éû„ÉºË°®Á§∫ÈÉ® -->
            <section class="timer-section">
                <!-- „É¢„Éº„ÉâÈÅ∏Êäû -->
                <div class="mode-selection">
                    <h3>‰ΩúÊ•≠„É¢„Éº„Éâ</h3>
                    <div class="mode-buttons">
                        <button id="planned-mode-btn" class="mode-btn active" data-mode="planned">
                            <i class="fas fa-calendar-check"></i> Ë®àÁîªÁöÑÈÅÇË°å
                        </button>
                        <button id="unplanned-mode-btn" class="mode-btn" data-mode="unplanned">
                            <i class="fas fa-clock"></i> ÁÑ°Ë®àÁîªÈÅÇË°åÔºà„Å†„Çâ„Å†„ÇâÔºâ
                        </button>
                    </div>
                </div>

                <div class="timer-display">
                    <div id="timer-circle" class="timer-circle">
                        <div id="time-display" class="time-display">25:00</div>
                        <div id="timer-label" class="timer-label">‰ΩúÊ•≠ÊôÇÈñì</div>
                        <div id="mode-indicator" class="mode-indicator">Ë®àÁîªÁöÑ</div>
                    </div>
                </div>
                
                <div class="timer-controls">
                    <button id="start-btn" class="control-btn start-btn">
                        <i class="fas fa-play"></i> „Çπ„Çø„Éº„Éà
                    </button>
                    <button id="reset-btn" class="control-btn reset-btn">
                        <i class="fas fa-refresh"></i> „É™„Çª„ÉÉ„Éà
                    </button>
                </div>
            </section>

            <!-- „Çø„Çπ„ÇØÁÆ°ÁêÜÈÉ® -->
            <section class="task-section">
                <div class="task-tabs">
                    <button class="task-tab-btn active" data-tab="today">‰ªäÊó•„ÅÆ„Çø„Çπ„ÇØ</button>
                    <button class="task-tab-btn" data-tab="stock">‰ªïÊéõ„Åë„Çπ„Éà„ÉÉ„ÇØ</button>
                </div>

                <!-- ‰ªäÊó•„ÅÆ„Çø„Çπ„ÇØ„Çø„Éñ -->
                <div id="today-tasks" class="task-tab-content active">
                    <div class="task-input-area">
                        <textarea id="task-input" placeholder="„Çø„Çπ„ÇØ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºàÊîπË°å„ÅßÊñ∞„Åó„ÅÑ„Çø„Çπ„ÇØ„ÇíËøΩÂä†Ôºâ"></textarea>
                        <button id="add-tasks-btn" class="add-btn">
                            <i class="fas fa-plus"></i> „Çø„Çπ„ÇØËøΩÂä†
                        </button>
                    </div>
                    
                    <ul id="task-list" class="task-list"></ul>
                </div>

                <!-- ‰ªïÊéõ„Åë„Çπ„Éà„ÉÉ„ÇØ„Çø„Éñ -->
                <div id="stock-tasks" class="task-tab-content">
                    <div class="task-input-area">
                        <textarea id="stock-input" placeholder="ÊÄù„ÅÑ„Å§„ÅÑ„Åü‰ªïÊéõ„Åë„Çø„Çπ„ÇØ„Çí„Çπ„Éà„ÉÉ„ÇØÔºàÊîπË°å„ÅßË§áÊï∞ËøΩÂä†Ôºâ"></textarea>
                        <button id="add-stock-btn" class="add-btn">
                            <i class="fas fa-lightbulb"></i> „Çπ„Éà„ÉÉ„ÇØËøΩÂä†
                        </button>
                    </div>
                    
                    <div class="stock-actions">
                        <button id="move-to-today-btn" class="control-btn">
                            <i class="fas fa-arrow-right"></i> ÈÅ∏Êäû„Åó„Åü„Çø„Çπ„ÇØ„Çí‰ªäÊó•„Å´ÁßªÂãï
                        </button>
                    </div>
                    
                    <ul id="stock-list" class="task-list stock-list"></ul>
                </div>
            </section>

            <!-- Áµ±Ë®à„Éª„É≠„Ç∞ÈÉ® -->
            <section class="stats-section">
                <div class="stats-tabs">
                    <button class="tab-btn active" data-tab="today">‰ªäÊó•</button>
                    <button class="tab-btn" data-tab="log">„É≠„Ç∞</button>
                    <button class="tab-btn" data-tab="dashboard">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</button>
                </div>

                <div id="today-tab" class="tab-content active">
                    <div class="daily-summary">
                        <div class="stat-card">
                            <div class="stat-value" id="completed-pomodoros">0</div>
                            <div class="stat-label">ÂÆå‰∫Ü„Éù„É¢„Éâ„Éº„É≠</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="total-focus-time">0ÂàÜ</div>
                            <div class="stat-label">Á∑èÈõÜ‰∏≠ÊôÇÈñì</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="completed-tasks">0</div>
                            <div class="stat-label">ÂÆå‰∫Ü„Çø„Çπ„ÇØ</div>
                        </div>
                    </div>
                    
                    <div class="mode-comparison">
                        <h3>‰ΩúÊ•≠„É¢„Éº„ÉâÊØîËºÉ</h3>
                        <div class="comparison-cards">
                            <div class="comparison-card planned">
                                <div class="comparison-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="comparison-stats">
                                    <div class="comparison-value" id="planned-pomodoros">0</div>
                                    <div class="comparison-label">Ë®àÁîªÁöÑ„Éù„É¢„Éâ„Éº„É≠</div>
                                    <div class="comparison-time" id="planned-time">0ÂàÜ</div>
                                </div>
                            </div>
                            <div class="comparison-card unplanned">
                                <div class="comparison-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="comparison-stats">
                                    <div class="comparison-value" id="unplanned-pomodoros">0</div>
                                    <div class="comparison-label">ÁÑ°Ë®àÁîª„Éù„É¢„Éâ„Éº„É≠</div>
                                    <div class="comparison-time" id="unplanned-time">0ÂàÜ</div>
                                </div>
                            </div>
                        </div>
                        <div class="efficiency-indicator">
                            <div class="efficiency-bar">
                                <div id="efficiency-fill" class="efficiency-fill" style="width: 0%"></div>
                            </div>
                            <div class="efficiency-text">
                                Ë®àÁîªÊÄß: <span id="efficiency-percentage">0%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="log-tab" class="tab-content">
                    <div id="activity-log" class="activity-log"></div>
                </div>

                <div id="dashboard-tab" class="tab-content">
                    <canvas id="productivity-chart" width="400" height="400"></canvas>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
    <script src="redmine-integration.js"></script>
</body>
</html>